<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="css/movie-database.css">
    <style> body{
        padding: 0;
        margin: 0;
    }
    canvas {
        vertical-align: 10em;
    }
    </style>



</head>
<body style="background-image: url('images/theatre.jfif'); color: lightgrey; margin: 30px; background-color: black">



<div class="container" style="width: 900px;">
    <br>
    <h2 style="text-align: center; color: lightgrey">Movie Database Search</h2>

    <br>


    <form id="form" style="text-align: center">
        <input type="text" name="search" id="searchMovie" placeholder="Search Movie Details" class="form-control">
        <br>
        <button type="submit" id="submitSearch2">Submit</button>
    </form>


    <div style="text-align: center">
        <input type="text" name="search" id="search" placeholder="Search Movie Details" class="form-control"/>
        <button id="submitSearch">Submit</button>
    </div>


</div>

<!--<form style="text-align: center">-->
<!--    Create a form for adding a new movie that has fields for the movie's title and rating-->
<!--</form>-->

<br>

<div class="row display-flex justify-content-around">
    <!--    <div class="container">-->
    <!--        <img src="images/BHD.jpg" alt="">-->
    <!--        <button class="btn">Button</button>-->
    <!--    </div>-->
    <div style="height: 250px; width: 150px; background-image: url(images/BHD.jpg); background-size: cover; background-position: top; border: solid; border-width: 5px; border-radius: 3px; border-color: lightgrey">
        <button class="btn">info</button></div>
    <div style="height: 250px; width: 150px; background-image: url(images/tenet.jpg); background-size: cover; background-position: top; border: solid; border-width: 5px; border-radius: 3px; border-color: lightgrey">
        <button class="btn">info</button></div>
    <div style="height: 250px; width: 150px; background-image: url(images/residentevil.jpg); background-size: cover; background-position: top; border: solid; border-width: 5px; border-radius: 3px; border-color: lightgrey">
        <button class="btn">info</button></div>
    <div style="height: 250px; width: 150px; background-image: url(images/matrix.jpg); background-size: cover; background-position: top; border: solid; border-width: 5px; border-radius: 3px; border-color: lightgrey">
        <button class="btn">info</button></div>
    <div style="height: 250px; width: 150px; background-image: url(images/unforgive.jpg); background-size: cover; background-position: top; border: solid; border-width: 5px; border-radius: 3px; border-color: lightgrey">
        <button class="btn">info</button></div>
    <div style="height: 250px; width: 150px; background-image: url(images/venom.png); background-size: cover; background-position: top; border: solid; border-width: 5px; border-radius: 3px; border-color: lightgrey">
        <button class="btn">info</button></div>
</div>
<br><br>
<table class="table table-bordered" style="background-color: lightgrey">
    <thead>
    <tr>
        <th>Title</th>
        <th>Genre</th>
        <th>Plot</th>
        <th>Rating</th>
        <th>Year</th>
    </tr>
    </thead>
    <tbody id="tdata">

    </tbody>
</table>
<br><br>
<table id="movies" style="visibility: collapse">



<!--    <table id="movies">-->

        <!--    <thead>-->
        <!--    <tr>-->
        <!--        <th>Title</th>-->
        <!--        <th>Actors</th>-->
        <!--        <th>Director</th>-->
        <!--        <th>Genre</th>-->
        <!--        <th>Plot</th>-->
        <!--        <th>Rating</th>-->
        <!--        <th>Year</th>-->
        <!--    </tr>-->
        <!--    </thead>-->
        <tbody id="insertMovies"></tbody>
    </table>

    <nav>


    </nav>


    <h3 style="color: lightgrey; margin-left: -10px">Create New Movie</h3>


    <form id="container">
        <label for="inputPart"></label><textarea style="height: 30px; text-align: center" id="inputPart" placeholder="Input Movie Title.."></textarea><br>
        <!--        <label for="inputPart"></label><textarea style="height: 30px; text-align: center" id="inputPart" placeholder="Input Actors.."></textarea><br>-->
        <!--        <label for="inputPart"></label><textarea style="height: 30px; text-align: center" id="inputPart" placeholder="Input Director.."></textarea><br>-->
        <!--        <label for="inputPart"></label><textarea style="height: 30px; text-align: center" id="inputPart" placeholder="Input Genre.."></textarea><br>-->
        <!--        <label for="inputPart"></label><textarea style="height: 30px; text-align: center" id="inputPart" placeholder="Input ID.."></textarea><br>-->
        <!--        <label for="inputPart"></label><textarea style="height: 30px; text-align: center" id="inputPart" placeholder="Input Plot.."></textarea><br>-->
        <!--        <label for="inputPart"></label><textarea style="height: 30px; text-align: center" id="inputPart" placeholder="Input Poster.."></textarea><br>-->
        <!--        <label for="inputPart"></label><textarea style="height: 30px; text-align: center" id="inputPart" placeholder="Input Rating.."></textarea><br>-->
        <!--        <label for="inputPart"></label><textarea style="height: 30px; text-align: center" id="inputPart" placeholder="Input Title.."></textarea><br>-->
        <button type="submit" id="submitInput">Submit</button>
    </form>
    <div id="loading" >

    </div>
    <h1 id="showOutput"></h1>
    </form>

    <h3 style="color: lightgrey; margin-left: 30px">Create New Movie</h3>
    <div class="movie-form">
        <div class="form-group row">
            <div class="col-6">
                <form>
                    <label for="title"></label>
                    <input class="form-control" type="text" id="title" name="title">

                </form>
            </div>

            <div id="cards" class="container-fluid body-cards row gap-5 justify-content-center"></div>

            <div style="text-align: center"><button onClick="window.location.reload();">Refresh Page</button></div>

            <div align="center"><button onClick="window.location.reload();">Refresh Page</button></div>
        </div>
    </div>


            <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
            <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
            <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>

            <script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
            <script src="js/movie-database.js"></script>

            <script>
                $(document).ready(function(){
//when the user click on this button
                    $("#submitSearch").click(function(){
//call the ajax here
                        $.get("https://polyester-able-helium.glitch.me/movies",function(data,status){
//just display in console log data
                            //parse this in json
                            console.log(JSON.parse(data));
                            var data=JSON.parse(data);
                            //for
                            data.forEach(function(dt){

                                $("#tdata").append("<tr>" +
                                    "<td>"+dt.title+"</td>"+
                                    "<td>"+dt.genre+"</td>"+
                                    "<td>"+dt.plot+"</td>"+
                                    "<td>"+dt.rating+"</td>"+
                                    "<td>"+dt.year+"</td>"
                                    +"</tr>"
                                );

                            });
                        });
                    });
                });
            </script>
            <script>

                const API_URL = 'https://polyester-able-helium.glitch.me/movies';
                //get request

                let getAllMovies = () => {
                    return fetch(API_URL).then(resp => resp.json());
                }

                getAllMovies().then(data => console.log(data)).catch(error => console.error(error));

                (function() {

                    $.get('https://polyester-able-helium.glitch.me/movies').done(function (movies) {
                        $("#insertMovies").html("");
                        movies.forEach(function(movie) {
                            var h1 = "<h1>" + movie.title + "</h1>"
                            var p = "<p>Actors: " + movie.actors + "</p>"
                            var p1 = "<p>Director: " + movie.director + "</p>"
                            var c = "<p>Genre: " + movie.genre + "</p>"
                            var c1 = "<p>ID: " + movie.id + "</p>"
                            var span = "<p>Plot: " + movie.plot + "</p>"
                            var span1 = "<p>Poster: " + movie.poster + "</p>"
                            var span2 = "<p>Rating: " + movie.rating + "</p>"
                            var span3 = "<p>Title: " + movie.title + "</p>"
                            var span4 = "<p>Year: " + movie.year + "</p>"
                            $("#movies").append(h1.toUpperCase() + p + p1 + c + c1+ span + span1 + span2 + span3 + span4);
                        });
                    });
                    console.log(movies)
                })();



            </script>




</body>
</html>
