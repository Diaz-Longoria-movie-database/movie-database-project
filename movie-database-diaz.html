<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="css/movie-database.css">
</head>
<body style="background-image: url('images/theatre.jfif'); color: lightgrey; margin: 30px; background-color: black">



<div class="container" style="width: 900px;">
    <br>
    <h2 style="text-align: center; color: lightgrey">Movie Database Search</h2>

    <br>


    <div style="text-align: center">
        <input type="text" name="search" id="search" placeholder="Search Movie Details" class="form-control"/>
        <button id="submitSearch">Submit</button>
    </div>

</div>

<!--<form style="text-align: center">-->
<!--    Create a form for adding a new movie that has fields for the movie's title and rating-->
<!--</form>-->


<table id="movies">
    <!--    <thead>-->
    <!--    <tr>-->
    <!--        <th>Title</th>-->
    <!--        <th>Actors</th>-->
    <!--        <th>Director</th>-->
    <!--        <th>Genre</th>-->
    <!--        <th>Plot</th>-->
    <!--        <th>Rating</th>-->
    <!--        <th>Year</th>-->
    <!--    </tr>-->
    <!--    </thead>-->
    <tbody id="insertMovies"></tbody>
</table>

<nav>


</nav>

<h3 style="color: lightgrey; margin-left: 30px">Create New Movie</h3>

<div class="container">

    <label for="inputPart"></label><textarea style="height: 30px; text-align: center" id="inputPart" placeholder="Input Movie Title.."></textarea><br>
    <label for="inputPart"></label><textarea style="height: 30px; text-align: center" id="inputPart1" placeholder="Input Actors.."></textarea><br>
    <label for="inputPart"></label><textarea style="height: 30px; text-align: center" id="inputPart2" placeholder="Input Director.."></textarea><br>
    <label for="inputPart"></label><textarea style="height: 30px; text-align: center" id="inputPart3" placeholder="Input Genre.."></textarea><br>
    <label for="inputPart"></label><textarea style="height: 30px; text-align: center" id="inputPart4" placeholder="Input ID.."></textarea><br>
    <label for="inputPart"></label><textarea style="height: 30px; text-align: center" id="inputPart5" placeholder="Input Plot.."></textarea><br>
    <label for="inputPart"></label><textarea style="height: 30px; text-align: center" id="inputPart6" placeholder="Input Poster.."></textarea><br>
    <label for="inputPart"></label><textarea style="height: 30px; text-align: center" id="inputPart7" placeholder="Input Rating.."></textarea><br>
    <label for="inputPart"></label><textarea style="height: 30px; text-align: center" id="inputPart8" placeholder="Input Title.."></textarea><br>

    <!--        <label for="inputPart"></label><textarea id="inputPart" placeholder="Enter dummy data.."></textarea>-->



    <button id="submitInput">Submit</button>
    <div id="loading" >

    </div>
    <h1 id="showOutput"></h1>
</div>
<div id="cards" class="container-fluid body-cards row gap-5 justify-content-center"></div>
 <div style="text-align: center"><button onClick="window.location.reload();">Refresh Page</button></div>

<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/css/bootstrap.min.css" integrity="sha384-TX8t27EcRE3e/ihU7zmQxVncDAy5uIKz4rEkgIXeMed4M0jlfIDPvg6uqKI2xXr2" crossorigin="anonymous">
<script src="https://cdn.jsdelivr.net/npm/bootstrap@4.5.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ho+j7jyWK8fNQe+A12Hb8AhRq26LrZ/JpcUGGOn+Y7RsweNrtN/tE3MoK7ZeZDyx" crossorigin="anonymous"></script>
<script src="https://code.jquery.com/jquery-2.2.4.min.js" integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<script src="js/movie-database.js"></script>

<!--<script>-->
<!--    $(window).load(function() {-->
<!--        $('#loading').hide();-->
<!--    });-->
</script>
<script>

    const API_URL = 'https://slash-honorable-moustache.glitch.me/movies';
    //get request

    let getAllMovies = () => {
        return fetch(API_URL).then(resp => resp.json());
    }

    getAllMovies().then(data => console.log(data)).catch(error => console.error(error));

    (function() {

        $.get('https://slash-honorable-moustache.glitch.me/movies').done(function (movies) {
            $("#insertMovies").html("");
            movies.forEach(function(movie) {
                var h1 = "<h1>" + movie.title + "</h1>"
                var p = "<p>Actors: " + movie.actors + "</p>"
                var p1 = "<p>Director: " + movie.director + "</p>"
                var c = "<p>Genre: " + movie.genre + "</p>"
                var c1 = "<p>ID: " + movie.id + "</p>"
                var span = "<p>Plot: " + movie.plot + "</p>"
                var span1 = "<p>Poster: " + movie.poster + "</p>"
                var span2 = "<p>Rating: " + movie.rating + "</p>"
                var span3 = "<p>Title: " + movie.title + "</p>"
                var span4 = "<p>Year: " + movie.year + "</p>"
                $("#movies").append(h1.toUpperCase() + p + p1 + c + c1+ span + span1 + span2 + span3 + span4);
            });
        });
        console.log(movies)
    })();



</script>




</body>
</html>
